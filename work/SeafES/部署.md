### 准备: 下载redis的stable版本的压缩文件

```
tar -zxvf redis-stable.tar.gz
. utils/install_server.sh[交互式执行，选择端口等配置]
```

执行完成，在对应的配置文件中添加redis的密码

```
requirepass password
```



### seafevent 节点


```
[EVENTS PUBLISH]
mq_type=redis
enabled = true

[REDIS]
server = 172.31.19.106
port = 6379
password = hello123
```



### seafes 主节点

```
[DEFAULT]
mq_type = redis

[REDIS]
server = 172.31.19.106
password = hello123
port = 6379
```

#### 运行
将在`seafea`目录下的`run_index_master.sh.template`移动到`seafile-pro-server-x.x.x`下并重命名为`run_index_master.sh`

执行`./run_index_master.sh`

### seafes 从节点

```
[DEFAULT]
mq_type = redis
index_workers = 2

[REDIS]
server = 172.31.19.106
password = hello123
port = 6379
```

#### 运行
将在`seafea`目录下的`run_index_worker.sh.template`移动到`seafile-pro-server-x.x.x`下并重命名为`run_index_worker.sh`

执行`./run_index_worker.sh`